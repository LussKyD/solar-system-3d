<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Solar System 3D</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div id="info-panel">
        <h1>Solar System 3D Explorer</h1>
        <p>Click and drag to orbit. Scroll to zoom. Right-click or Ctrl+drag to pan.</p>
        <p>Hover to preview, click to lock. <strong>Double-click</strong> a planet or moon to open the focus modal: 3D body, missions/sites, zoom and rotate controls. Use presets below to jump around the system.</p>

        <div id="selection-display">
            Hover over a planet or the Sun!
        </div>

        <div id="controls">
            <div class="controls-row">
                <button id="toggle-animation-button">Pause orbits</button>

                <label for="speed-select" class="inline-label">Speed:</label>
                <select id="speed-select">
                    <option value="0.5">0.5×</option>
                    <option value="1" selected>1×</option>
                    <option value="2">2×</option>
                    <option value="4">4×</option>
                </select>
            </div>

            <div class="controls-row toggles-row">
                <label>
                    <input type="checkbox" id="toggle-orbits" checked>
                    Orbits
                </label>
                <label>
                    <input type="checkbox" id="toggle-asteroids" checked>
                    Asteroid belt
                </label>
                <label>
                    <input type="checkbox" id="toggle-kuiper" checked>
                    Kuiper belt
                </label>
                <label>
                    <input type="checkbox" id="toggle-labels" checked>
                    Labels
                </label>
                <label>
                    <input type="checkbox" id="toggle-missions" checked>
                    Missions
                </label>
            </div>

            <div class="controls-row presets-row">
                <span class="controls-label">Presets:</span>
                <button class="preset-button" data-preset="inner">Inner system</button>
                <button class="preset-button" data-preset="giants">Gas giants</button>
                <button class="preset-button" data-preset="outer">Outer system</button>
                <button class="preset-button" data-preset="top">Top view</button>
            </div>
        </div>
    </div>

    <button id="reset-view-button">
        Reset View
    </button>

    <!-- Focus overlay: darkens scene when a body is focused (double-click) -->
    <div id="focus-overlay" class="focus-overlay hidden" aria-hidden="true"></div>

    <!-- White modal overlay (Google-style: body in modal, info panel, zoom/rotate) -->
    <div id="body-modal" class="body-modal hidden" aria-hidden="true">
        <div class="body-modal-backdrop"></div>
        <div class="body-modal-card">
            <button type="button" class="body-modal-close" id="body-modal-close" aria-label="Close">×</button>
            <div class="body-modal-globe-wrap">
                <div class="body-modal-controls">
                    <button type="button" class="modal-btn modal-rotate" id="modal-rotate" aria-label="Rotate">↻</button>
                    <button type="button" class="modal-btn modal-zoom-in" id="modal-zoom-in" aria-label="Zoom in">+</button>
                    <button type="button" class="modal-btn modal-zoom-out" id="modal-zoom-out" aria-label="Zoom out">−</button>
                </div>
                <div id="modal-globe-view" class="modal-globe-view"></div>
                <div id="modal-marker-tooltip" class="modal-marker-tooltip hidden">Missions</div>
            </div>
            <div class="body-modal-info">
                <h2 id="modal-body-title" class="modal-title">—</h2>
                <p id="modal-body-subtitle" class="modal-subtitle">From our project</p>
                <div class="modal-fact-card" id="modal-fact-card"></div>
                <p id="modal-body-description" class="modal-description"></p>
                <div class="modal-collapsible-section">
                    <details open>
                        <summary>Missions</summary>
                        <div id="modal-missions-list" class="modal-missions-list"></div>
                    </details>
                </div>
            </div>
        </div>
    </div>

    <!-- Glassmorphic side panel (slides in from right when body focused) -->
    <div id="body-panel" class="body-panel hidden" aria-hidden="true">
        <div class="body-panel-inner">
            <button type="button" class="body-panel-close" id="body-panel-close" aria-label="Close">×</button>
            <header class="body-panel-header">
                <h2 id="body-panel-title">—</h2>
                <div id="body-panel-stats" class="body-panel-stats"></div>
            </header>
            <nav class="body-panel-tabs">
                <button type="button" class="body-tab active" data-tab="overview">Overview</button>
                <button type="button" class="body-tab" data-tab="missions">Missions</button>
                <button type="button" class="body-tab" data-tab="sites">Sites</button>
            </nav>
            <div class="body-panel-content">
                <div id="body-tab-overview" class="body-tab-pane active"></div>
                <div id="body-tab-missions" class="body-tab-pane"></div>
                <div id="body-tab-sites" class="body-tab-pane"></div>
            </div>
        </div>
    </div>

    <div id="detail-modal" class="detail-modal hidden" aria-hidden="true">
        <div class="detail-overlay"></div>
        <div class="detail-content">
            <button type="button" class="detail-close" id="detail-close" aria-label="Close">×</button>
            <div id="detail-body"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    
    <!-- Cache-bust main.js so GitHub Pages/CDN pick up latest version -->
    <script src="js/main.js?v=2"></script>

</body>
</html>
